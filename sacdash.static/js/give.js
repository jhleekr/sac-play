function t(t){document.getElementById("txt2").innerHTML=t}function e(t){document.getElementById("txt4").innerHTML=t}function s(t,s){var a=new XMLHttpRequest;a.onreadystatechange=function(){200==this.status&&this.readyState==this.DONE&&(1==JSON.parse(a.responseText).result?(n(t,s),e("SUBMIT SCAN")):e("INIT FAIL 2"));200!=this.status&&this.readyState==this.DONE&&e("INIT FAIL 1")},a.open("POST","https://api.sac.today/a/tint",!0),a.setRequestHeader("Authorization","Basic "+t),a.send(),e("INIT")}function n(s,n){var i=new XMLHttpRequest;i.onreadystatechange=function(){200==this.status&&this.readyState==this.DONE&&(1==JSON.parse(i.responseText).result?(t("MATCH SUBMIT DONE\n["+n+"]"),a(s,n),e("SEND DATA")):t("MATCH SUBMIT WRONG\n["+n+"]"));200!=this.status&&this.readyState==this.DONE&&t("MATCH SUBMIT FAIL\n["+n+"]")},i.open("POST","https://api.sac.today/a/scan",!0);var r=new FormData;r.append("txt",n),i.setRequestHeader("Authorization","Basic "+s),i.send(r),t("MATCH SUBMIT\n["+n+"]")}function a(t,s){var n=new XMLHttpRequest;n.onreadystatechange=function(){200!=this.status||this.readyState!=this.DONE?400!=this.status||this.readyState!=this.DONE?200!=this.status&&this.readyState==this.DONE&&e("DATA FAIL 1"):2==JSON.parse(n.responseText).detail&&e("DATA FAIL 3 (이미 참여보상 지급이 완료되었습니다)"):1==JSON.parse(n.responseText).result?e("SUCCESS"):e("DATA FAIL 2")},n.open("POST","https://api.sac.today/a/give",!0),n.setRequestHeader("Authorization","Basic "+t),n.send()}window.addEventListener("usrLoad",(function(n){null===n.detail&&(window.location.href="/landing/");var a=!0;html5QrcodeScanner=new Html5QrcodeScanner("reader",{fps:5,qrbox:{width:250,height:250},supportedScanTypes:[Html5QrcodeScanType.SCAN_TYPE_CAMERA],formatsToSupport:[Html5QrcodeSupportedFormats.AZTEC]},!1),html5QrcodeScanner.render((function(n,i){a&&(a=!1,e("MATCH"),t("MATCH\n["+n+"]"),s(getCookie("-sp-admin-sess"),n),setTimeout((function(){a=!0}),5e3))}),(function(e){a&&t("STANDBY")}))}));